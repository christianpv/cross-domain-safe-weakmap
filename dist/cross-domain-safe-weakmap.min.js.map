{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///cross-domain-safe-weakmap.min.js","webpack:///webpack/bootstrap 82762d60f67ecdfa7605","webpack:///./src/index.js","webpack:///./src/interface.js","webpack:///./src/weakmap.js","webpack:///./~/cross-domain-utils/src/index.js","webpack:///./~/cross-domain-utils/src/util.js","webpack:///./src/native.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","defineProperty","value","_interface","keys","forEach","enumerable","get","INTERFACE","_weakmap","CrossDomainSafeWeakMap","_classCallCheck","instance","Constructor","TypeError","noop","undefined","_createClass","defineProperties","target","props","i","length","descriptor","configurable","writable","protoProps","staticProps","_src","_native","counter","Date","now","name","Math","random","hasNativeWeakMap","weakmap","window","WeakMap","err","values","isWindowClosed","splice","isWindow","self","Error","set","isSafeToReadWrite","entry","_cleanupClosedWindows","index","indexOf","push","has","getActualDomain","win","location","protocol","CONSTANTS","FILE_PROTOCOL","host","getDomain","domain","mockDomain","MOCK_PROTOCOL","isBlankDomain","href","isActuallySameDomain","desc","getOwnPropertyDescriptor","isSameDomain","getParent","parent","getOpener","opener","getParents","result","isAncestorParent","child","childParent","getFrames","frames","len","frame","getAllChildFrames","_iterator","_isArray","Array","isArray","_i2","Symbol","iterator","_ref","next","done","_iterator2","_isArray2","_i3","_ref2","childFrame","getTop","top","_iterator3","_isArray3","_i4","_ref3","getAllFramesInWindow","concat","isTop","isFrameWindowClosed","contentWindow","parentNode","doc","ownerDocument","body","contains","allowMock","arguments","closed","message","mockclosed","iframeWindows","iframeFrames","cleanIframes","linkFrameWindow","getUserAgent","navigator","mockUserAgent","userAgent","getFrameByName","winFrames","_iterator4","_isArray4","_i6","_ref4","findChildFrameByName","_iterator5","_isArray5","_i7","_ref5","namedFrame","findFrameByName","isParent","frameParent","_iterator6","_isArray6","_i8","_ref6","isOpener","getAncestor","getAncestors","results","ancestor","isAncestor","actualParent","_iterator7","_isArray7","_i9","_ref7","isPopup","Boolean","isIframe","isFullpage","anyMatch","collection1","collection2","_iterator8","_isArray8","_i10","_ref8","item1","_iterator9","_isArray9","_i11","_ref9","item2","getDistanceFromTop","distance","getNthParent","n","getNthParentFromTop","isSameTopWindow","win1","win2","top1","top2","allFrames1","allFrames2","opener1","opener2","matchDomain","pattern","origin","WILDCARD","_util","isRegex","toString","match","JSON","stringify","some","subpattern","getDomainFromUrl","url","split","slice","join","onCloseWindow","callback","delay","maxtime","Infinity","timeout","check","clearTimeout","setTimeout","cancel","item","freeze","testWeakMap","testKey","testValue"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,OAAA,gBAAAH,GACA,gBAAAC,SACAA,QAAA,WAAAD,IAEAD,EAAA,WAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAP,WACAS,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,QAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAAUL,EAAQD,EAASM,GAEhC,YAoBA,SAASS,GAAwBC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,MAAOD,EAAc,IAAIE,KAAa,IAAW,MAAPF,EAAe,IAAK,GAAIG,KAAOH,GAAWI,OAAOC,UAAUC,eAAeX,KAAKK,EAAKG,KAAMD,EAAOC,GAAOH,EAAIG,GAAmC,OAAzBD,GAAgB,QAAIF,EAAYE,EAlBrQE,OAAOG,eAAevB,EAAS,cAC7BwB,OAAO,GEzDV,IAAAC,GAAAnB,EAAA,EACAc,QAAAM,KAAAD,GAAAE,QAAA,SAAAR,GAAA,YAAAA,GAAA,eAAAA,GAAAC,OAAAG,eAAAvB,EAAAmB,GAAAS,YAAA,EAAAC,IAAA,iBAAAJ,GAAAN,OFuEC,IExEWW,GFwEKf,EAAwBU,EAIxCzB,GAAiB,QE1EH8B,GF8ET,SAAU7B,EAAQD,EAASM,GAEhC,YAEAc,QAAOG,eAAevB,EAAS,cAC7BwB,OAAO,GAGT,IAAIO,GAAWzB,EAAoB,EAEnCc,QAAOG,eAAevB,EAAS,WAC7B4B,YAAY,EACZC,IAAK,WACH,MAAOE,GG7FHC,2BHmGH,SAAU/B,EAAQD,EAASM,GAEhC,YAaA,SAAS2B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCI5GjH,QAASC,MJiGRjB,OAAOG,eAAevB,EAAS,cAC3BwB,OAAO,IAEXxB,EAAQgC,uBAAyBM,MAEjC,IAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWjB,WAAaiB,EAAWjB,aAAc,EAAOiB,EAAWC,cAAe,EAAU,SAAWD,KAAYA,EAAWE,UAAW,GAAM3B,OAAOG,eAAekB,EAAQI,EAAW1B,IAAK0B,IAAiB,MAAO,UAAUV,EAAaa,EAAYC,GAAiJ,MAA9HD,IAAYR,EAAiBL,EAAYd,UAAW2B,GAAiBC,GAAaT,EAAiBL,EAAac,GAAqBd,MI5GjiBe,EAAA5C,EAAA,GACA6C,EAAA7C,EAAA,GAEIiB,EAAiBH,OAAOG,eACxB6B,EAAUC,KAAKC,MAAQ,GJuHGtD,GIjHjBgC,uBJiHkD,WI1G3D,QAAAA,KAII,GAJUC,EAAA7B,KAAA4B,GACVoB,GAAW,EACXhD,KAAKmD,KAAL,cAAyC,IAAhBC,KAAKC,WAAmB,GAAjD,KAAuDL,GAEnD,EAAAD,EAAAO,oBACA,IACItD,KAAKuD,QAAU,GAAIC,QAAOC,QAC5B,MAAOC,IAKb1D,KAAKsB,QACLtB,KAAK2D,UJ8TR,MA9MAxB,GAAaP,IACTb,IAAK,wBACLK,MAAO,WI1GR,IAAK,GAHDmC,GAAUvD,KAAKuD,QACfjC,EAAOtB,KAAKsB,KAEPiB,EAAI,EAAGA,EAAIjB,EAAKkB,OAAQD,IAAK,CAClC,GAAInB,GAAQE,EAAKiB,EAEjB,KAAI,EAAAO,EAAAc,gBAAexC,GAAQ,CAEvB,GAAImC,EACA,IACIA,SAAenC,GACjB,MAAOsC,IAKbpC,EAAKuC,OAAOtB,EAAG,GACfvC,KAAK2D,OAAOE,OAAOtB,EAAG,GAEtBA,GAAK,OJoHZxB,IAAK,oBACLK,MAAO,SIhHML,GAEd,IAAI,EAAA+B,EAAAgB,UAAS/C,GACT,OAAO,CAGX,KACIkB,EAAKlB,GAAOA,EAAIgD,MAChB9B,EAAKlB,GAAOA,EAAIf,KAAKmD,OACvB,MAAOO,GACL,OAAO,EAGX,OAAO,KJmHN3C,IAAK,MACLK,MAAO,SIjHRL,EAASK,GAET,IAAKL,EACD,KAAM,IAAIiD,OAAJ,uBAGV,IAAIT,GAAUvD,KAAKuD,OAEnB,IAAIA,EACA,IACIA,EAAQU,IAAIlD,EAAKK,GACnB,MAAOsC,SACE1D,MAAKuD,QAIpB,GAAKvD,KAAKkE,kBAAkBnD,GAerB,CAEH,GAAIoC,GAAOnD,KAAKmD,KACZgB,EAAQpD,EAAIoC,EAEZgB,IAASA,EAAM,KAAOpD,EACtBoD,EAAM,GAAK/C,EAEXD,EAAeJ,EAAKoC,GAChB/B,OAASL,EAAKK,GACduB,UAAU,QAzBY,CAE9B3C,KAAKoE,uBAEL,IAAI9C,GAAOtB,KAAKsB,KACZqC,EAAS3D,KAAK2D,OACdU,EAAQ/C,EAAKgD,QAAQvD,EAErBsD,MAAU,GACV/C,EAAKiD,KAAKxD,GACV4C,EAAOY,KAAKnD,IAEZuC,EAAOU,GAASjD,MJmIvBL,IAAK,MACLK,MAAO,SIjHRL,GAEA,IAAKA,EACD,KAAM,IAAIiD,OAAJ,uBAGV,IAAIT,GAAUvD,KAAKuD,OAEnB,IAAIA,EACA,IACI,GAAIA,EAAQiB,IAAIzD,GACZ,MAAOwC,GAAQ9B,IAAIV,GAEzB,MAAO2C,SACE1D,MAAKuD,QAIpB,IAAKvD,KAAKkE,kBAAkBnD,GAAM,CAE9Bf,KAAKoE,uBAEL,IAAI9C,GAAOtB,KAAKsB,KACZ+C,EAAQ/C,EAAKgD,QAAQvD,EAEzB,IAAIsD,KAAU,EACV,MAGJ,OAAOrE,MAAK2D,OAAOU,GAInB,GAAIF,GAAQpD,EAAIf,KAAKmD,KAErB,IAAIgB,GAASA,EAAM,KAAOpD,EACtB,MAAOoD,GAAM,MJqHpBpD,IAAK,SACLK,MAAO,SIjHLL,GAEH,IAAKA,EACD,KAAM,IAAIiD,OAAJ,uBAGV,IAAIT,GAAUvD,KAAKuD,OAEnB,IAAIA,EACA,IACIA,SAAexC,GACjB,MAAO2C,SACE1D,MAAKuD,QAIpB,GAAKvD,KAAKkE,kBAAkBnD,GAYrB,CAEH,GAAIoD,GAAQpD,EAAIf,KAAKmD,KAEjBgB,IAASA,EAAM,KAAOpD,IACtBoD,EAAM,GAAKA,EAAM,GAAKjC,YAjBI,CAE9BlC,KAAKoE,uBAEL,IAAI9C,GAAOtB,KAAKsB,KACZ+C,EAAQ/C,EAAKgD,QAAQvD,EAErBsD,MAAU,IACV/C,EAAKuC,OAAOQ,EAAO,GACnBrE,KAAK2D,OAAOE,OAAOQ,EAAO,QJ6HjCtD,IAAK,MACLK,MAAO,SIjHRL,GAEA,IAAKA,EACD,KAAM,IAAIiD,OAAJ,uBAGV,IAAIT,GAAUvD,KAAKuD,OAEnB,IAAIA,EACA,IACI,MAAOA,GAAQiB,IAAIzD,GACrB,MAAO2C,SACE1D,MAAKuD,QAIpB,GAAKvD,KAAKkE,kBAAkBnD,GAMrB,CAEH,GAAIoD,GAAQpD,EAAIf,KAAKmD,KAErB,UAAIgB,GAASA,EAAM,KAAOpD,GAN1B,MAFAf,MAAKoE,wBAEEpE,KAAKsB,KAAKgD,QAAQvD,MAAS,MJ+HlCa,MAKN,SAAU/B,EAAQD,EAASM,GAEhC,YK3VM,SAASuE,GAAgBC,GAE5B,GAAIC,GAAWD,EAAIC,QAEnB,KAAKA,EACD,KAAM,IAAIX,OAAJ,+BAGV,IAAIY,GAAWD,EAASC,QAExB,KAAKA,EACD,KAAM,IAAIZ,OAAJ,+BAGV,IAAIY,IAAaC,EAAUC,cACvB,MAAO,SAGX,IAAIC,GAAOJ,EAASI,IAEpB,KAAKA,EACD,KAAM,IAAIf,OAAJ,2BAGV,OAAUY,GAAV,KAAuBG,EAGpB,QAASC,GAAUN,GAEtBA,EAAMA,GAAOlB,MAEb,IAAIyB,GAASR,EAAgBC,EAE7B,OAAIO,IAAUP,EAAIQ,YAAkE,IAApDR,EAAIQ,WAAWZ,QAAQO,EAAUM,eACtDT,EAAIQ,WAGRD,EAGJ,QAASG,GAAcV,GAC1B,IACI,IAAKA,EAAIC,SAASU,KACd,OAAO,CAGX,IAA0B,gBAAtBX,EAAIC,SAASU,KACb,OAAO,EAEb,MAAO3B,IAIT,OAAO,EAGJ,QAAS4B,GAAqBZ,GAEjC,IACI,GAAIa,GAAOvE,OAAOwE,yBAAyBd,EAAK,WAEhD,IAAIa,GAAQA,EAAK/D,cAAe,EAC5B,OAAO,EAGb,MAAOkC,IAIT,IACI,GAAI0B,EAAcV,GACd,OAAO,CAGX,IAAID,EAAgBC,KAASD,EAAgBjB,QACzC,OAAO,EAGb,MAAOE,IAIT,OAAO,EAGJ,QAAS+B,GAAaf,GAEzB,IAAKY,EAAqBZ,GACtB,OAAO,CAGX,KAEI,GAAIU,EAAcV,GACd,OAAO,CAGX,IAAIM,EAAUxB,UAAYwB,EAAUN,GAChC,OAAO,EAGb,MAAOhB,IAIT,OAAO,EAGJ,QAASgC,GAAUhB,GAEtB,GAAKA,EAIL,IACI,GAAIA,EAAIiB,QAAUjB,EAAIiB,SAAWjB,EAC7B,MAAOA,GAAIiB,OAEjB,MAAOjC,GACL,QAID,QAASkC,GAAUlB,GAEtB,GAAKA,IAKDgB,EAAUhB,GAId,IACI,MAAOA,GAAImB,OACb,MAAOnC,GACL,QAMD,QAASoC,GAAWpB,GAEvB,GAAIqB,KAEJ,KAEI,KAAOrB,EAAIiB,SAAWjB,GAClBqB,EAAOxB,KAAKG,EAAIiB,QAChBjB,EAAMA,EAAIiB,OAGhB,MAAOjC,IAIT,MAAOqC,GAGJ,QAASC,GAAiBL,EAAcM,GAE3C,IAAKN,IAAWM,EACZ,OAAO,CAGX,IAAIC,GAAcR,EAAUO,EAE5B,OAAIC,GACOA,IAAgBP,EAGvBG,EAAWG,GAAO3B,QAAQqB,MAAY,EAOvC,QAASQ,GAAUzB,GAEtB,GAAIqB,MAEAK,QAEJ,KACIA,EAAS1B,EAAI0B,OACf,MAAO1C,GACL0C,EAAS1B,EAGb,GAAI2B,SAEJ,KACIA,EAAMD,EAAO5D,OACf,MAAOkB,IAIT,GAAY,IAAR2C,EACA,MAAON,EAGX,IAAIM,EAAK,CACL,IAAK,GAAI9D,GAAI,EAAGA,EAAI8D,EAAK9D,IAAK,CAE1B,GAAI+D,SAEJ,KACIA,EAAQF,EAAO7D,GACjB,MAAOmB,GACL,SAGJqC,EAAOxB,KAAK+B,GAGhB,MAAOP,GAGX,IAAK,GAAIxD,GAAI,EAAGA,EAAI,IAAKA,IAAK,CAC1B,GAAI+D,SAEJ,KACIA,EAAQF,EAAO7D,GACjB,MAAOmB,GACL,MAAOqC,GAGX,IAAKO,EACD,MAAOP,EAGXA,GAAOxB,KAAK+B,GAGhB,MAAOP,GAIJ,QAASQ,GAAkB7B,GAI9B,OAFIqB,MAEJS,EAAkBL,EAAUzB,GAA5B+B,EAAAC,MAAAC,QAAAH,GAAAI,EAAA,EAAAJ,EAAAC,EAAAD,IAAAK,OAAAC,cAAkC,IAAAC,EAAA,IAAAN,EAAA,IAAAG,GAAAJ,EAAAhE,OAAA,KAAAuE,GAAAP,EAAAI,SAAA,IAAAA,EAAAJ,EAAAQ,OAAAJ,EAAAK,KAAA,KAAAF,GAAAH,EAAAxF,MAAA,GAAzBkF,GAAyBS,CAC9BhB,GAAOxB,KAAK+B,EAEZ,QAAAY,GAAuBX,EAAkBD,GAAzCa,EAAAT,MAAAC,QAAAO,GAAAE,EAAA,EAAAF,EAAAC,EAAAD,IAAAL,OAAAC,cAAiD,IAAAO,EAAA,IAAAF,EAAA,IAAAC,GAAAF,EAAA1E,OAAA,KAAA6E,GAAAH,EAAAE,SAAA,IAAAA,EAAAF,EAAAF,OAAAI,EAAAH,KAAA,KAAAI,GAAAD,EAAAhG,MAAA,GAAxCkG,GAAwCD,CAC7CtB,GAAOxB,KAAK+C,IAIpB,MAAOvB,GAGJ,QAASwB,GAAO7C,GAEnB,GAAKA,EAAL,CAIA,IACI,GAAIA,EAAI8C,IACJ,MAAO9C,GAAI8C,IAEjB,MAAO9D,IAIT,GAAIgC,EAAUhB,KAASA,EACnB,MAAOA,EAGX,KACI,GAAIsB,EAAiBxC,OAAQkB,IAAQlB,OAAOgE,IACxC,MAAOhE,QAAOgE,IAEpB,MAAO9D,IAIT,IACI,GAAIsC,EAAiBtB,EAAKlB,SAAWA,OAAOgE,IACxC,MAAOhE,QAAOgE,IAEpB,MAAO9D,IAIT,OAAA+D,GAAkBlB,EAAkB7B,GAApCgD,EAAAhB,MAAAC,QAAAc,GAAAE,EAAA,EAAAF,EAAAC,EAAAD,IAAAZ,OAAAC,cAA0C,IAAAc,EAAA,IAAAF,EAAA,IAAAC,GAAAF,EAAAjF,OAAA,KAAAoF,GAAAH,EAAAE,SAAA,IAAAA,EAAAF,EAAAT,OAAAW,EAAAV,KAAA,KAAAW,GAAAD,EAAAvG,MAAA,GAAjCkF,GAAiCsB,CACtC,KACI,GAAItB,EAAMkB,IACN,MAAOlB,GAAMkB,IAEnB,MAAO9D,IAIT,GAAIgC,EAAUY,KAAWA,EACrB,MAAOA,KAKZ,QAASuB,GAAqBnD,GACjC,GAAI8C,GAAMD,EAAO7C,EACjB,OAAO6B,GAAkBiB,GAAKM,OAAON,GAGlC,QAASO,GAAMrD,GAClB,MAAOA,KAAQ6C,EAAO7C,GAGnB,QAASsD,GAAoB1B,GAEhC,IAAKA,EAAM2B,cACP,OAAO,CAGX,KAAK3B,EAAM4B,WACP,OAAO,CAGX,IAAIC,GAAM7B,EAAM8B,aAEhB,UAAID,IAAOA,EAAIE,MAASF,EAAIE,KAAKC,SAAShC,IAUvC,QAAS1C,GAAec,GAAuC,GAA5B6D,KAA4BC,UAAAhG,OAAA,GAAAN,SAAAsG,UAAA,KAAAA,UAAA,EAElE,KACI,GAAI9D,IAAQlB,OACR,OAAO,EAEb,MAAOE,GACL,OAAO,EAIX,IACI,IAAKgB,EACD,OAAO,EAGb,MAAOhB,GACL,OAAO,EAGX,IACI,GAAIgB,EAAI+D,OACJ,OAAO,EAGb,MAAO/E,GAIL,OAAIA,GAAuB,qCAAhBA,EAAIgF,QAQnB,GAAIH,GAAa9C,EAAaf,GAC1B,IACI,GAAIA,EAAIiE,WACJ,OAAO,EAEb,MAAOjF,IAOb,IACI,IAAKgB,EAAIiB,SAAWjB,EAAI8C,IACpB,OAAO,EAEb,MAAO9D,IAMT,IACI,GAAIW,GAAQuE,EAActE,QAAQI,EAElC,IAAIL,KAAU,EAAI,CACd,GAAIiC,GAAQuC,EAAaxE,EAEzB,IAAIiC,GAAS0B,EAAoB1B,GAC7B,OAAO,GAGjB,MAAO5C,IAKT,OAAO,EAGX,QAASoF,KAEL,IAAK,GAAIvG,GAAI,EAAGA,EAAIsG,EAAarG,OAAQD,IACjCyF,EAAoBa,EAAatG,MACjCsG,EAAahF,OAAOtB,EAAG,GACvBqG,EAAc/E,OAAOtB,EAAG,GAIhC,KAAK,GAAIA,GAAI,EAAGA,EAAIqG,EAAcpG,OAAQD,IAClCqB,EAAegF,EAAcrG,MAC7BsG,EAAahF,OAAOtB,EAAG,GACvBqG,EAAc/E,OAAOtB,EAAG,IAK7B,QAASwG,GAAgBzC,GAI5B,GAFAwC,IAEIxC,GAASA,EAAM2B,cACf,IACIW,EAAcrE,KAAK+B,EAAM2B,eACzBY,EAAatE,KAAK+B,GACpB,MAAO5C,KAMV,QAASsF,GAAatE,GAEzB,MADAA,GAAMA,GAAOlB,OACNkB,EAAIuE,UAAUC,eAAiBxE,EAAIuE,UAAUE,UAIjD,QAASC,GAAe1E,EAAWvB,GAItC,OAFIkG,GAAYlD,EAAUzB,GAE1B4E,EAAuBD,EAAvBE,EAAA7C,MAAAC,QAAA2C,GAAAE,EAAA,EAAAF,EAAAC,EAAAD,IAAAzC,OAAAC,cAAkC,IAAA2C,EAAA,IAAAF,EAAA,IAAAC,GAAAF,EAAA9G,OAAA,KAAAiH,GAAAH,EAAAE,SAAA,IAAAA,EAAAF,EAAAtC,OAAAwC,EAAAvC,KAAA,KAAAwC,GAAAD,EAAApI,MAAA,GAAzBkG,GAAyBmC,CAC9B,KACI,GAAIhE,EAAa6B,IAAeA,EAAWnE,OAASA,GAAQkG,EAAU/E,QAAQgD,MAAgB,EAC1F,MAAOA,GAEb,MAAO5D,KAKb,IACI,GAAI2F,EAAU/E,QAAQI,EAAI0B,OAAOjD,OAAW,EACxC,MAAOuB,GAAI0B,OAAOjD,GAExB,MAAOO,IAIT,IACI,GAAI2F,EAAU/E,QAAQI,EAAIvB,OAAW,EACjC,MAAOuB,GAAIvB,GAEjB,MAAOO,KAKN,QAASgG,GAAqBhF,EAAWvB,GAE5C,GAAImD,GAAQ8C,EAAe1E,EAAKvB,EAEhC,IAAImD,EACA,MAAOA,EAGX,QAAAqD,GAAuBxD,EAAUzB,GAAjCkF,EAAAlD,MAAAC,QAAAgD,GAAAE,EAAA,EAAAF,EAAAC,EAAAD,IAAA9C,OAAAC,cAAuC,IAAAgD,EAAA,IAAAF,EAAA,IAAAC,GAAAF,EAAAnH,OAAA,KAAAsH,GAAAH,EAAAE,SAAA,IAAAA,EAAAF,EAAA3C,OAAA6C,EAAA5C,KAAA,KAAA6C,GAAAD,EAAAzI,MAAA,GAA9BkG,GAA8BwC,EAC/BC,EAAaL,EAAqBpC,EAAYnE,EAElD,IAAI4G,EACA,MAAOA,IAKZ,QAASC,GAAgBtF,EAAWvB,GAEvC,GAAImD,SAIJ,OAFAA,GAAQ8C,EAAe1E,EAAKvB,GAExBmD,EACOA,EAGJoD,EAAqBnC,EAAO7C,GAAMvB,GAGtC,QAAS8G,GAASvF,EAAW4B,GAEhC,GAAI4D,GAAcxE,EAAUY,EAE5B,IAAI4D,EACA,MAAOA,KAAgBxF,CAG3B,QAAAyF,GAAuBhE,EAAUzB,GAAjC0F,EAAA1D,MAAAC,QAAAwD,GAAAE,EAAA,EAAAF,EAAAC,EAAAD,IAAAtD,OAAAC,cAAuC,IAAAwD,EAAA,IAAAF,EAAA,IAAAC,GAAAF,EAAA3H,OAAA,KAAA8H,GAAAH,EAAAE,SAAA,IAAAA,EAAAF,EAAAnD,OAAAqD,EAAApD,KAAA,KAAAqD,GAAAD,EAAAjJ,MAAA,GAA9BkG,GAA8BgD,CACnC,IAAIhD,IAAehB,EACf,OAAO,EAIf,OAAO,EAGJ,QAASiE,GAAS5E,EAAcM,GAEnC,MAAON,KAAWC,EAAUK,GAGzB,QAASuE,GAAY9F,GACxBA,EAAMA,GAAOlB,MAEb,IAAIqC,GAASD,EAAUlB,EAEvB,IAAImB,EACA,MAAOA,EAGX,IAAIF,GAASD,EAAUhB,EAEvB,OAAIiB,GACOA,EADX,OAKG,QAAS8E,GAAa/F,GAMzB,IAJA,GAAIgG,MAEAC,EAAWjG,EAERiG,GACHA,EAAWH,EAAYG,GACnBA,GACAD,EAAQnG,KAAKoG,EAIrB,OAAOD,GAIJ,QAASE,GAAWjF,EAAcM,GAErC,GAAI4E,GAAeL,EAAYvE,EAE/B,IAAI4E,EACA,MAAIA,KAAiBlF,CAOzB,IAAIM,IAAUN,EACV,OAAO,CAGX,IAAI4B,EAAOtB,KAAWA,EAClB,OAAO,CAGX,QAAA6E,GAAkB3E,EAAUR,GAA5BoF,EAAArE,MAAAC,QAAAmE,GAAAE,EAAA,EAAAF,EAAAC,EAAAD,IAAAjE,OAAAC,cAAqC,IAAAmE,EAAA,IAAAF,EAAA,IAAAC,GAAAF,EAAAtI,OAAA,KAAAyI,GAAAH,EAAAE,SAAA,IAAAA,EAAAF,EAAA9D,OAAAgE,EAAA/D,KAAA,KAAAgE,GAAAD,EAAA5J,MAAA,GAA5BkF,GAA4B2E,CACjC,IAAI3E,IAAUL,EACV,OAAO,EAIf,OAAO,EAGJ,QAASiF,KACZ,MAAOC,SAAQvF,EAAUpC,SAGtB,QAAS4H,KACZ,MAAOD,SAAQzF,EAAUlC,SAGtB,QAAS6H,KACZ,MAAOF,UAASC,MAAeF,KAGnC,QAASI,GAASC,EAAaC,GAE3B,OAAAC,GAAkBF,EAAlBG,EAAAhF,MAAAC,QAAA8E,GAAAE,EAAA,EAAAF,EAAAC,EAAAD,IAAA5E,OAAAC,cAA+B,IAAA8E,EAAA,IAAAF,EAAA,IAAAC,GAAAF,EAAAjJ,OAAA,KAAAoJ,GAAAH,EAAAE,SAAA,IAAAA,EAAAF,EAAAzE,OAAA2E,EAAA1E,KAAA,KAAA2E,GAAAD,EAAAvK,MAC3B,OADKyK,GAAsBD,EAC3BE,EAAkBN,EAAlBO,EAAArF,MAAAC,QAAAmF,GAAAE,EAAA,EAAAF,EAAAC,EAAAD,IAAAjF,OAAAC,cAA+B,IAAAmF,EAAA,IAAAF,EAAA,IAAAC,GAAAF,EAAAtJ,OAAA,KAAAyJ,GAAAH,EAAAE,SAAA,IAAAA,EAAAF,EAAA9E,OAAAgF,EAAA/E,KAAA,KAAAgF,GAAAD,EAAA5K,MAAA,GAAtB8K,GAAsBD,CAC3B,IAAIJ,IAAUK,EACV,OAAO,IAMhB,QAASC,KAGZ,IAHmD,GAApBzH,GAAoB8D,UAAAhG,OAAA,GAAAN,SAAAsG,UAAA,GAAAA,UAAA,GAARhF,OACvC4I,EAAW,EAER1H,GACHA,EAAMgB,EAAUhB,GACZA,IACA0H,GAAY,EAIpB,OAAOA,GAGJ,QAASC,GAAa3H,GACzB,IAAK,GAD+B4H,GAAgB9D,UAAAhG,OAAA,GAAAN,SAAAsG,UAAA,GAAAA,UAAA,GAAH,EACxCjG,EAAI,EAAGA,EAAI+J,EAAG/J,IACnBmC,EAAMgB,EAAUhB,EAEpB,OAAOA,GAGJ,QAAS6H,GAAoB7H,GAA2B,GAAhB4H,GAAgB9D,UAAAhG,OAAA,GAAAN,SAAAsG,UAAA,GAAAA,UAAA,GAAH,CACxD,OAAO6D,GAAa3H,EAAKyH,EAAmBzH,GAAO4H,GAGhD,QAASE,GAAgBC,EAAYC,GAExC,GAAIC,GAAOpF,EAAOkF,GACdG,EAAOrF,EAAOmF,EAElB,KACI,GAAIC,GAAQC,EACR,MAAID,KAASC,EAMnB,MAAOlJ,IAIT,GAAImJ,GAAahF,EAAqB4E,GAClCK,EAAajF,EAAqB6E,EAEtC,IAAIpB,EAASuB,EAAYC,GACrB,OAAO,CAGX,IAAIC,GAAUnH,EAAU+G,GACpBK,EAAUpH,EAAUgH,EAExB,SAAIG,IAAWzB,EAASzD,EAAqBkF,GAAUD,QAInDE,IAAW1B,EAASzD,EAAqBmF,GAAUH,KAAvD,QAKG,QAASI,GAAYC,EAAeC,GAEvC,GAAuB,gBAAZD,GAAsB,CAE7B,GAAsB,gBAAXC,GACP,MAAOD,KAAYrI,EAAUuI,UAAYD,IAAWD,CAGxD,KAAI,EAAAG,EAAAC,SAAQH,GACR,OAAO,CAGX,IAAIzG,MAAMC,QAAQwG,GACd,OAAO,EAIf,OAAI,EAAAE,EAAAC,SAAQJ,IAEJ,EAAAG,EAAAC,SAAQH,GACDD,EAAQK,aAAeJ,EAAOI,YAGrC7G,MAAMC,QAAQwG,IAIXhC,QAAQgC,EAAOK,MAAMN,MAG5BxG,MAAMC,QAAQuG,KAEVxG,MAAMC,QAAQwG,GACPM,KAAKC,UAAUR,KAAaO,KAAKC,UAAUP,KAGlD,EAAAE,EAAAC,SAAQH,IAILD,EAAQS,KAAK,SAAAC,GAAA,MAAcX,GAAYW,EAAYT,MAM3D,QAASU,GAAiBC,GAE7B,GAAI7I,SAEJ,OAAI6I,GAAIN,MAAM,6BACVvI,EAAS6I,EAKb7I,EAASA,EAAO8I,MAAM,KAAKC,MAAM,EAAG,GAAGC,KAAK,MAHjCjJ,IAQR,QAASkJ,GAAcxJ,EAAWyJ,GAAmG,GAA9EC,GAA8E5F,UAAAhG,OAAA,GAAAN,SAAAsG,UAAA,GAAAA,UAAA,GAA7D,IAAM6F,EAAuD7F,UAAAhG,OAAA,GAAAN,SAAAsG,UAAA,GAAAA,UAAA,GAApC8F,IAEhGC,SAEAC,EAAQ,QAARA,KAEA,MAAI5K,GAAec,IAEX6J,GACAE,aAAaF,GAGVJ,UAGPE,GAAW,EACXI,aAAaF,IAEbF,GAAWD,EACXG,EAAUG,WAAWF,EAAOJ,KAMpC,OAFAI,MAGIG,OADG,WAEKJ,GACAE,aAAaF,KAMtB,QAASzK,GAASlD,GAErB,IACI,GAAIA,GAAOA,EAAImD,OAASnD,EACpB,OAAO,EAEb,MAAO8C,IAIT,OAAO,ELlbV1C,OAAOG,eAAevB,EAAS,cAC3BwB,OAAO,IAEXxB,EKhWe6E,kBLiWf7E,EKtUeoF,YLuUfpF,EK1TewF,gBL2TfxF,EK3Se0F,uBL4Sf1F,EK/Qe6F,eLgRf7F,EKzPe8F,YL0Pf9F,EK3OegG,YL4OfhG,EKxNekG,aLyNflG,EKvMeoG,mBLwMfpG,EKrLeuG,YLsLfvG,EKzHe2G,oBL0Hf3G,EK3Ge2H,SL4Gf3H,EK3DeiI,uBL4DfjI,EKvDemI,QLwDfnI,EKpDeoI,sBLqDfpI,EK/BegE,iBLgCfhE,EK8DemJ,kBL7DfnJ,EK2EeoJ,eL1EfpJ,EKgFewJ,iBL/EfxJ,EK8Ge8J,uBL7Gf9J,EK8HeoK,kBL7HfpK,EK0IeqK,WLzIfrK,EK0Je2K,WLzJf3K,EK8Je4K,cL7Jf5K,EK6Ke6K,eL5Kf7K,EK6LegL,aL5LfhL,EKyNesL,ULxNftL,EK4NewL,WL3NfxL,EK+NeyL,aL9NfzL,EK6OeuM,qBL5OfvM,EKyPeyM,eLxPfzM,EK+Pe2M,sBL9Pf3M,EKkQe4M,kBLjQf5M,EKqSeqN,cLpSfrN,EKkVeiO,mBLjVfjO,EKgWesO,gBL/VftO,EKiYekE,UA7wBhB,IAAAuJ,GAAAnN,EAAA,GAEM2E,GACFM,cAAe,QACfL,cAAe,QACfsI,SAAU,KAgVVxE,KACAC,MLw8BE,SAAUhJ,EAAQD,GAEvB,YMhyCM,SAAS0N,GAAQsB,GACpB,MAAgD,oBAAzC5N,OAAOC,UAAUsM,SAAShN,KAAKqO,GNiyCzC5N,OAAOG,eAAevB,EAAS,cAC3BwB,OAAO,IAEXxB,EMryCe0N,WN4yCV,SAAUzN,EAAQD,GAEvB,YO9yCM,SAAS0D,KAEZ,IAAKE,OAAOC,QACR,OAAO,CAGX,KAAKD,OAAOxC,OAAO6N,OACf,OAAO,CAGX,KAEI,GAAIC,GAAc,GAAItL,QAAOC,QACzBsL,KACAC,EAAY,eAMhB,OAJAxL,QAAOxC,OAAO6N,OAAOE,GAErBD,EAAY7K,IAAI8K,EAASC,GAErBF,EAAYrN,IAAIsN,KAAaC,EAMnC,MAAOtL,GAEL,OAAO,GPoxCd1C,OAAOG,eAAevB,EAAS,cAC3BwB,OAAO,IAEXxB,EOnzCe0D","file":"cross-domain-safe-weakmap.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"xdsweakmap\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xdsweakmap\"] = factory();\n\telse\n\t\troot[\"xdsweakmap\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"xdsweakmap\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xdsweakmap\"] = factory();\n\telse\n\t\troot[\"xdsweakmap\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _interface = __webpack_require__(1);\n\t\n\tObject.keys(_interface).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return;\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _interface[key];\n\t    }\n\t  });\n\t});\n\t\n\tvar INTERFACE = _interopRequireWildcard(_interface);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\t\n\texports['default'] = INTERFACE;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _weakmap = __webpack_require__(2);\n\t\n\tObject.defineProperty(exports, 'WeakMap', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _weakmap.CrossDomainSafeWeakMap;\n\t  }\n\t});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.CrossDomainSafeWeakMap = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _src = __webpack_require__(3);\n\t\n\tvar _native = __webpack_require__(5);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar defineProperty = Object.defineProperty;\n\tvar counter = Date.now() % 1e9;\n\t\n\tfunction noop() {\n\t    // pass\n\t}\n\t\n\tvar CrossDomainSafeWeakMap = exports.CrossDomainSafeWeakMap = function () {\n\t    function CrossDomainSafeWeakMap() {\n\t        _classCallCheck(this, CrossDomainSafeWeakMap);\n\t\n\t        counter += 1;\n\t        this.name = '__weakmap_' + (Math.random() * 1e9 >>> 0) + '__' + counter; // eslint-disable-line\n\t\n\t        if ((0, _native.hasNativeWeakMap)()) {\n\t            try {\n\t                this.weakmap = new window.WeakMap();\n\t            } catch (err) {\n\t                // pass\n\t            }\n\t        }\n\t\n\t        this.keys = [];\n\t        this.values = [];\n\t    }\n\t\n\t    _createClass(CrossDomainSafeWeakMap, [{\n\t        key: '_cleanupClosedWindows',\n\t        value: function _cleanupClosedWindows() {\n\t\n\t            var weakmap = this.weakmap;\n\t            var keys = this.keys;\n\t\n\t            for (var i = 0; i < keys.length; i++) {\n\t                var value = keys[i];\n\t\n\t                if ((0, _src.isWindowClosed)(value)) {\n\t\n\t                    if (weakmap) {\n\t                        try {\n\t                            weakmap['delete'](value);\n\t                        } catch (err) {\n\t                            // pass\n\t                        }\n\t                    }\n\t\n\t                    keys.splice(i, 1);\n\t                    this.values.splice(i, 1);\n\t\n\t                    i -= 1;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'isSafeToReadWrite',\n\t        value: function isSafeToReadWrite(key) {\n\t\n\t            if ((0, _src.isWindow)(key)) {\n\t                return false;\n\t            }\n\t\n\t            try {\n\t                noop(key && key.self);\n\t                noop(key && key[this.name]);\n\t            } catch (err) {\n\t                return false;\n\t            }\n\t\n\t            return true;\n\t        }\n\t    }, {\n\t        key: 'set',\n\t        value: function set(key, value) {\n\t\n\t            if (!key) {\n\t                throw new Error('WeakMap expected key');\n\t            }\n\t\n\t            var weakmap = this.weakmap;\n\t\n\t            if (weakmap) {\n\t                try {\n\t                    weakmap.set(key, value);\n\t                } catch (err) {\n\t                    delete this.weakmap;\n\t                }\n\t            }\n\t\n\t            if (!this.isSafeToReadWrite(key)) {\n\t\n\t                this._cleanupClosedWindows();\n\t\n\t                var keys = this.keys;\n\t                var values = this.values;\n\t                var index = keys.indexOf(key);\n\t\n\t                if (index === -1) {\n\t                    keys.push(key);\n\t                    values.push(value);\n\t                } else {\n\t                    values[index] = value;\n\t                }\n\t            } else {\n\t\n\t                var name = this.name;\n\t                var entry = key[name];\n\t\n\t                if (entry && entry[0] === key) {\n\t                    entry[1] = value;\n\t                } else {\n\t                    defineProperty(key, name, {\n\t                        value: [key, value],\n\t                        writable: true\n\t                    });\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'get',\n\t        value: function get(key) {\n\t\n\t            if (!key) {\n\t                throw new Error('WeakMap expected key');\n\t            }\n\t\n\t            var weakmap = this.weakmap;\n\t\n\t            if (weakmap) {\n\t                try {\n\t                    if (weakmap.has(key)) {\n\t                        return weakmap.get(key);\n\t                    }\n\t                } catch (err) {\n\t                    delete this.weakmap;\n\t                }\n\t            }\n\t\n\t            if (!this.isSafeToReadWrite(key)) {\n\t\n\t                this._cleanupClosedWindows();\n\t\n\t                var keys = this.keys;\n\t                var index = keys.indexOf(key);\n\t\n\t                if (index === -1) {\n\t                    return;\n\t                }\n\t\n\t                return this.values[index];\n\t            } else {\n\t\n\t                var entry = key[this.name];\n\t\n\t                if (entry && entry[0] === key) {\n\t                    return entry[1];\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'delete',\n\t        value: function _delete(key) {\n\t\n\t            if (!key) {\n\t                throw new Error('WeakMap expected key');\n\t            }\n\t\n\t            var weakmap = this.weakmap;\n\t\n\t            if (weakmap) {\n\t                try {\n\t                    weakmap['delete'](key);\n\t                } catch (err) {\n\t                    delete this.weakmap;\n\t                }\n\t            }\n\t\n\t            if (!this.isSafeToReadWrite(key)) {\n\t\n\t                this._cleanupClosedWindows();\n\t\n\t                var keys = this.keys;\n\t                var index = keys.indexOf(key);\n\t\n\t                if (index !== -1) {\n\t                    keys.splice(index, 1);\n\t                    this.values.splice(index, 1);\n\t                }\n\t            } else {\n\t\n\t                var entry = key[this.name];\n\t\n\t                if (entry && entry[0] === key) {\n\t                    entry[0] = entry[1] = undefined;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'has',\n\t        value: function has(key) {\n\t\n\t            if (!key) {\n\t                throw new Error('WeakMap expected key');\n\t            }\n\t\n\t            var weakmap = this.weakmap;\n\t\n\t            if (weakmap) {\n\t                try {\n\t                    return weakmap.has(key);\n\t                } catch (err) {\n\t                    delete this.weakmap;\n\t                }\n\t            }\n\t\n\t            if (!this.isSafeToReadWrite(key)) {\n\t\n\t                this._cleanupClosedWindows();\n\t\n\t                return this.keys.indexOf(key) !== -1;\n\t            } else {\n\t\n\t                var entry = key[this.name];\n\t\n\t                if (entry && entry[0] === key) {\n\t                    return true;\n\t                }\n\t\n\t                return false;\n\t            }\n\t        }\n\t    }]);\n\n\t    return CrossDomainSafeWeakMap;\n\t}();\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getActualDomain = getActualDomain;\n\texports.getDomain = getDomain;\n\texports.isBlankDomain = isBlankDomain;\n\texports.isActuallySameDomain = isActuallySameDomain;\n\texports.isSameDomain = isSameDomain;\n\texports.getParent = getParent;\n\texports.getOpener = getOpener;\n\texports.getParents = getParents;\n\texports.isAncestorParent = isAncestorParent;\n\texports.getFrames = getFrames;\n\texports.getAllChildFrames = getAllChildFrames;\n\texports.getTop = getTop;\n\texports.getAllFramesInWindow = getAllFramesInWindow;\n\texports.isTop = isTop;\n\texports.isFrameWindowClosed = isFrameWindowClosed;\n\texports.isWindowClosed = isWindowClosed;\n\texports.linkFrameWindow = linkFrameWindow;\n\texports.getUserAgent = getUserAgent;\n\texports.getFrameByName = getFrameByName;\n\texports.findChildFrameByName = findChildFrameByName;\n\texports.findFrameByName = findFrameByName;\n\texports.isParent = isParent;\n\texports.isOpener = isOpener;\n\texports.getAncestor = getAncestor;\n\texports.getAncestors = getAncestors;\n\texports.isAncestor = isAncestor;\n\texports.isPopup = isPopup;\n\texports.isIframe = isIframe;\n\texports.isFullpage = isFullpage;\n\texports.getDistanceFromTop = getDistanceFromTop;\n\texports.getNthParent = getNthParent;\n\texports.getNthParentFromTop = getNthParentFromTop;\n\texports.isSameTopWindow = isSameTopWindow;\n\texports.matchDomain = matchDomain;\n\texports.getDomainFromUrl = getDomainFromUrl;\n\texports.onCloseWindow = onCloseWindow;\n\texports.isWindow = isWindow;\n\t\n\tvar _util = __webpack_require__(4);\n\t\n\tvar CONSTANTS = {\n\t    MOCK_PROTOCOL: 'mock:',\n\t    FILE_PROTOCOL: 'file:',\n\t    WILDCARD: '*'\n\t};\n\t\n\tfunction getActualDomain(win) {\n\t\n\t    var location = win.location;\n\t\n\t    if (!location) {\n\t        throw new Error('Can not read window location');\n\t    }\n\t\n\t    var protocol = location.protocol;\n\t\n\t    if (!protocol) {\n\t        throw new Error('Can not read window protocol');\n\t    }\n\t\n\t    if (protocol === CONSTANTS.FILE_PROTOCOL) {\n\t        return 'file://';\n\t    }\n\t\n\t    var host = location.host;\n\t\n\t    if (!host) {\n\t        throw new Error('Can not read window host');\n\t    }\n\t\n\t    return protocol + '//' + host;\n\t}\n\t\n\tfunction getDomain(win) {\n\t\n\t    win = win || window;\n\t\n\t    var domain = getActualDomain(win);\n\t\n\t    if (domain && win.mockDomain && win.mockDomain.indexOf(CONSTANTS.MOCK_PROTOCOL) === 0) {\n\t        return win.mockDomain;\n\t    }\n\t\n\t    return domain;\n\t}\n\t\n\tfunction isBlankDomain(win) {\n\t    try {\n\t        if (!win.location.href) {\n\t            return true;\n\t        }\n\t\n\t        if (win.location.href === 'about:blank') {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction isActuallySameDomain(win) {\n\t\n\t    try {\n\t        var desc = Object.getOwnPropertyDescriptor(win, 'location');\n\t\n\t        if (desc && desc.enumerable === false) {\n\t            return false;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    try {\n\t        if (isBlankDomain(win)) {\n\t            return true;\n\t        }\n\t\n\t        if (getActualDomain(win) === getActualDomain(window)) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction isSameDomain(win) {\n\t\n\t    if (!isActuallySameDomain(win)) {\n\t        return false;\n\t    }\n\t\n\t    try {\n\t\n\t        if (isBlankDomain(win)) {\n\t            return true;\n\t        }\n\t\n\t        if (getDomain(window) === getDomain(win)) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction getParent(win) {\n\t\n\t    if (!win) {\n\t        return;\n\t    }\n\t\n\t    try {\n\t        if (win.parent && win.parent !== win) {\n\t            return win.parent;\n\t        }\n\t    } catch (err) {\n\t        return;\n\t    }\n\t}\n\t\n\tfunction getOpener(win) {\n\t\n\t    if (!win) {\n\t        return;\n\t    }\n\t\n\t    // Make sure we're not actually an iframe which has had window.open() called on us\n\t    if (getParent(win)) {\n\t        return;\n\t    }\n\t\n\t    try {\n\t        return win.opener;\n\t    } catch (err) {\n\t        return;\n\t    }\n\t}\n\t\n\tfunction getParents(win) {\n\t\n\t    var result = [];\n\t\n\t    try {\n\t\n\t        while (win.parent !== win) {\n\t            result.push(win.parent);\n\t            win = win.parent;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction isAncestorParent(parent, child) {\n\t\n\t    if (!parent || !child) {\n\t        return false;\n\t    }\n\t\n\t    var childParent = getParent(child);\n\t\n\t    if (childParent) {\n\t        return childParent === parent;\n\t    }\n\t\n\t    if (getParents(child).indexOf(parent) !== -1) {\n\t        return true;\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction getFrames(win) {\n\t\n\t    var result = [];\n\t\n\t    var frames = void 0;\n\t\n\t    try {\n\t        frames = win.frames;\n\t    } catch (err) {\n\t        frames = win;\n\t    }\n\t\n\t    var len = void 0;\n\t\n\t    try {\n\t        len = frames.length;\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    if (len === 0) {\n\t        return result;\n\t    }\n\t\n\t    if (len) {\n\t        for (var i = 0; i < len; i++) {\n\t\n\t            var frame = void 0;\n\t\n\t            try {\n\t                frame = frames[i];\n\t            } catch (err) {\n\t                continue;\n\t            }\n\t\n\t            result.push(frame);\n\t        }\n\t\n\t        return result;\n\t    }\n\t\n\t    for (var _i = 0; _i < 100; _i++) {\n\t        var _frame = void 0;\n\t\n\t        try {\n\t            _frame = frames[_i];\n\t        } catch (err) {\n\t            return result;\n\t        }\n\t\n\t        if (!_frame) {\n\t            return result;\n\t        }\n\t\n\t        result.push(_frame);\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction getAllChildFrames(win) {\n\t\n\t    var result = [];\n\t\n\t    for (var _iterator = getFrames(win), _isArray = Array.isArray(_iterator), _i2 = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n\t        var _ref;\n\t\n\t        if (_isArray) {\n\t            if (_i2 >= _iterator.length) break;\n\t            _ref = _iterator[_i2++];\n\t        } else {\n\t            _i2 = _iterator.next();\n\t            if (_i2.done) break;\n\t            _ref = _i2.value;\n\t        }\n\t\n\t        var frame = _ref;\n\t\n\t        result.push(frame);\n\t\n\t        for (var _iterator2 = getAllChildFrames(frame), _isArray2 = Array.isArray(_iterator2), _i3 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n\t            var _ref2;\n\t\n\t            if (_isArray2) {\n\t                if (_i3 >= _iterator2.length) break;\n\t                _ref2 = _iterator2[_i3++];\n\t            } else {\n\t                _i3 = _iterator2.next();\n\t                if (_i3.done) break;\n\t                _ref2 = _i3.value;\n\t            }\n\t\n\t            var childFrame = _ref2;\n\t\n\t            result.push(childFrame);\n\t        }\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction getTop(win) {\n\t\n\t    if (!win) {\n\t        return;\n\t    }\n\t\n\t    try {\n\t        if (win.top) {\n\t            return win.top;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    if (getParent(win) === win) {\n\t        return win;\n\t    }\n\t\n\t    try {\n\t        if (isAncestorParent(window, win) && window.top) {\n\t            return window.top;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    try {\n\t        if (isAncestorParent(win, window) && window.top) {\n\t            return window.top;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    for (var _iterator3 = getAllChildFrames(win), _isArray3 = Array.isArray(_iterator3), _i4 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n\t        var _ref3;\n\t\n\t        if (_isArray3) {\n\t            if (_i4 >= _iterator3.length) break;\n\t            _ref3 = _iterator3[_i4++];\n\t        } else {\n\t            _i4 = _iterator3.next();\n\t            if (_i4.done) break;\n\t            _ref3 = _i4.value;\n\t        }\n\t\n\t        var frame = _ref3;\n\t\n\t        try {\n\t            if (frame.top) {\n\t                return frame.top;\n\t            }\n\t        } catch (err) {\n\t            // pass\n\t        }\n\t\n\t        if (getParent(frame) === frame) {\n\t            return frame;\n\t        }\n\t    }\n\t}\n\t\n\tfunction getAllFramesInWindow(win) {\n\t    var top = getTop(win);\n\t    return getAllChildFrames(top).concat(top);\n\t}\n\t\n\tfunction isTop(win) {\n\t    return win === getTop(win);\n\t}\n\t\n\tfunction isFrameWindowClosed(frame) {\n\t\n\t    if (!frame.contentWindow) {\n\t        return true;\n\t    }\n\t\n\t    if (!frame.parentNode) {\n\t        return true;\n\t    }\n\t\n\t    var doc = frame.ownerDocument;\n\t\n\t    if (doc && doc.body && !doc.body.contains(frame)) {\n\t        return true;\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tvar iframeWindows = [];\n\tvar iframeFrames = [];\n\t\n\tfunction isWindowClosed(win) {\n\t    var allowMock = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\t\n\t\n\t    try {\n\t        if (win === window) {\n\t            return false;\n\t        }\n\t    } catch (err) {\n\t        return true;\n\t    }\n\t\n\t    try {\n\t        if (!win) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        return true;\n\t    }\n\t\n\t    try {\n\t        if (win.closed) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t\n\t        // I love you so much IE\n\t\n\t        if (err && err.message === 'Call was rejected by callee.\\r\\n') {\n\t            return false;\n\t        }\n\t\n\t        return true;\n\t    }\n\t\n\t    if (allowMock && isSameDomain(win)) {\n\t        try {\n\t            if (win.mockclosed) {\n\t                return true;\n\t            }\n\t        } catch (err) {\n\t            // pass\n\t        }\n\t    }\n\t\n\t    // Mobile safari\n\t\n\t    try {\n\t        if (!win.parent || !win.top) {\n\t            return true;\n\t        }\n\t    } catch (err) {}\n\t    // pass\n\t\n\t\n\t    // IE orphaned frame\n\t\n\t    try {\n\t        var index = iframeWindows.indexOf(win);\n\t\n\t        if (index !== -1) {\n\t            var frame = iframeFrames[index];\n\t\n\t            if (frame && isFrameWindowClosed(frame)) {\n\t                return true;\n\t            }\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction cleanIframes() {\n\t\n\t    for (var i = 0; i < iframeFrames.length; i++) {\n\t        if (isFrameWindowClosed(iframeFrames[i])) {\n\t            iframeFrames.splice(i, 1);\n\t            iframeWindows.splice(i, 1);\n\t        }\n\t    }\n\t\n\t    for (var _i5 = 0; _i5 < iframeWindows.length; _i5++) {\n\t        if (isWindowClosed(iframeWindows[_i5])) {\n\t            iframeFrames.splice(_i5, 1);\n\t            iframeWindows.splice(_i5, 1);\n\t        }\n\t    }\n\t}\n\t\n\tfunction linkFrameWindow(frame) {\n\t\n\t    cleanIframes();\n\t\n\t    if (frame && frame.contentWindow) {\n\t        try {\n\t            iframeWindows.push(frame.contentWindow);\n\t            iframeFrames.push(frame);\n\t        } catch (err) {\n\t            // pass\n\t        }\n\t    }\n\t}\n\t\n\tfunction getUserAgent(win) {\n\t    win = win || window;\n\t    return win.navigator.mockUserAgent || win.navigator.userAgent;\n\t}\n\t\n\tfunction getFrameByName(win, name) {\n\t\n\t    var winFrames = getFrames(win);\n\t\n\t    for (var _iterator4 = winFrames, _isArray4 = Array.isArray(_iterator4), _i6 = 0, _iterator4 = _isArray4 ? _iterator4 : _iterator4[Symbol.iterator]();;) {\n\t        var _ref4;\n\t\n\t        if (_isArray4) {\n\t            if (_i6 >= _iterator4.length) break;\n\t            _ref4 = _iterator4[_i6++];\n\t        } else {\n\t            _i6 = _iterator4.next();\n\t            if (_i6.done) break;\n\t            _ref4 = _i6.value;\n\t        }\n\t\n\t        var childFrame = _ref4;\n\t\n\t        try {\n\t            if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n\t                return childFrame;\n\t            }\n\t        } catch (err) {\n\t            // pass\n\t        }\n\t    }\n\t\n\t    try {\n\t        if (winFrames.indexOf(win.frames[name]) !== -1) {\n\t            return win.frames[name];\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    try {\n\t        if (winFrames.indexOf(win[name]) !== -1) {\n\t            return win[name];\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t}\n\t\n\tfunction findChildFrameByName(win, name) {\n\t\n\t    var frame = getFrameByName(win, name);\n\t\n\t    if (frame) {\n\t        return frame;\n\t    }\n\t\n\t    for (var _iterator5 = getFrames(win), _isArray5 = Array.isArray(_iterator5), _i7 = 0, _iterator5 = _isArray5 ? _iterator5 : _iterator5[Symbol.iterator]();;) {\n\t        var _ref5;\n\t\n\t        if (_isArray5) {\n\t            if (_i7 >= _iterator5.length) break;\n\t            _ref5 = _iterator5[_i7++];\n\t        } else {\n\t            _i7 = _iterator5.next();\n\t            if (_i7.done) break;\n\t            _ref5 = _i7.value;\n\t        }\n\t\n\t        var childFrame = _ref5;\n\t\n\t        var namedFrame = findChildFrameByName(childFrame, name);\n\t\n\t        if (namedFrame) {\n\t            return namedFrame;\n\t        }\n\t    }\n\t}\n\t\n\tfunction findFrameByName(win, name) {\n\t\n\t    var frame = void 0;\n\t\n\t    frame = getFrameByName(win, name);\n\t\n\t    if (frame) {\n\t        return frame;\n\t    }\n\t\n\t    return findChildFrameByName(getTop(win), name);\n\t}\n\t\n\tfunction isParent(win, frame) {\n\t\n\t    var frameParent = getParent(frame);\n\t\n\t    if (frameParent) {\n\t        return frameParent === win;\n\t    }\n\t\n\t    for (var _iterator6 = getFrames(win), _isArray6 = Array.isArray(_iterator6), _i8 = 0, _iterator6 = _isArray6 ? _iterator6 : _iterator6[Symbol.iterator]();;) {\n\t        var _ref6;\n\t\n\t        if (_isArray6) {\n\t            if (_i8 >= _iterator6.length) break;\n\t            _ref6 = _iterator6[_i8++];\n\t        } else {\n\t            _i8 = _iterator6.next();\n\t            if (_i8.done) break;\n\t            _ref6 = _i8.value;\n\t        }\n\t\n\t        var childFrame = _ref6;\n\t\n\t        if (childFrame === frame) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction isOpener(parent, child) {\n\t\n\t    return parent === getOpener(child);\n\t}\n\t\n\tfunction getAncestor(win) {\n\t    win = win || window;\n\t\n\t    var opener = getOpener(win);\n\t\n\t    if (opener) {\n\t        return opener;\n\t    }\n\t\n\t    var parent = getParent(win);\n\t\n\t    if (parent) {\n\t        return parent;\n\t    }\n\t}\n\t\n\tfunction getAncestors(win) {\n\t\n\t    var results = [];\n\t\n\t    var ancestor = win;\n\t\n\t    while (ancestor) {\n\t        ancestor = getAncestor(ancestor);\n\t        if (ancestor) {\n\t            results.push(ancestor);\n\t        }\n\t    }\n\t\n\t    return results;\n\t}\n\t\n\tfunction isAncestor(parent, child) {\n\t\n\t    var actualParent = getAncestor(child);\n\t\n\t    if (actualParent) {\n\t        if (actualParent === parent) {\n\t            return true;\n\t        }\n\t\n\t        return false;\n\t    }\n\t\n\t    if (child === parent) {\n\t        return false;\n\t    }\n\t\n\t    if (getTop(child) === child) {\n\t        return false;\n\t    }\n\t\n\t    for (var _iterator7 = getFrames(parent), _isArray7 = Array.isArray(_iterator7), _i9 = 0, _iterator7 = _isArray7 ? _iterator7 : _iterator7[Symbol.iterator]();;) {\n\t        var _ref7;\n\t\n\t        if (_isArray7) {\n\t            if (_i9 >= _iterator7.length) break;\n\t            _ref7 = _iterator7[_i9++];\n\t        } else {\n\t            _i9 = _iterator7.next();\n\t            if (_i9.done) break;\n\t            _ref7 = _i9.value;\n\t        }\n\t\n\t        var frame = _ref7;\n\t\n\t        if (frame === child) {\n\t            return true;\n\t        }\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction isPopup() {\n\t    return Boolean(getOpener(window));\n\t}\n\t\n\tfunction isIframe() {\n\t    return Boolean(getParent(window));\n\t}\n\t\n\tfunction isFullpage() {\n\t    return Boolean(!isIframe() && !isPopup());\n\t}\n\t\n\tfunction anyMatch(collection1, collection2) {\n\t\n\t    for (var _iterator8 = collection1, _isArray8 = Array.isArray(_iterator8), _i10 = 0, _iterator8 = _isArray8 ? _iterator8 : _iterator8[Symbol.iterator]();;) {\n\t        var _ref8;\n\t\n\t        if (_isArray8) {\n\t            if (_i10 >= _iterator8.length) break;\n\t            _ref8 = _iterator8[_i10++];\n\t        } else {\n\t            _i10 = _iterator8.next();\n\t            if (_i10.done) break;\n\t            _ref8 = _i10.value;\n\t        }\n\t\n\t        var item1 = _ref8;\n\t\n\t        for (var _iterator9 = collection2, _isArray9 = Array.isArray(_iterator9), _i11 = 0, _iterator9 = _isArray9 ? _iterator9 : _iterator9[Symbol.iterator]();;) {\n\t            var _ref9;\n\t\n\t            if (_isArray9) {\n\t                if (_i11 >= _iterator9.length) break;\n\t                _ref9 = _iterator9[_i11++];\n\t            } else {\n\t                _i11 = _iterator9.next();\n\t                if (_i11.done) break;\n\t                _ref9 = _i11.value;\n\t            }\n\t\n\t            var item2 = _ref9;\n\t\n\t            if (item1 === item2) {\n\t                return true;\n\t            }\n\t        }\n\t    }\n\t}\n\t\n\tfunction getDistanceFromTop() {\n\t    var win = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window;\n\t\n\t    var distance = 0;\n\t\n\t    while (win) {\n\t        win = getParent(win);\n\t        if (win) {\n\t            distance += 1;\n\t        }\n\t    }\n\t\n\t    return distance;\n\t}\n\t\n\tfunction getNthParent(win) {\n\t    var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\t\n\t    for (var i = 0; i < n; i++) {\n\t        win = getParent(win);\n\t    }\n\t    return win;\n\t}\n\t\n\tfunction getNthParentFromTop(win) {\n\t    var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\t\n\t    return getNthParent(win, getDistanceFromTop(win) - n);\n\t}\n\t\n\tfunction isSameTopWindow(win1, win2) {\n\t\n\t    var top1 = getTop(win1);\n\t    var top2 = getTop(win2);\n\t\n\t    try {\n\t        if (top1 && top2) {\n\t            if (top1 === top2) {\n\t                return true;\n\t            }\n\t\n\t            return false;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    var allFrames1 = getAllFramesInWindow(win1);\n\t    var allFrames2 = getAllFramesInWindow(win2);\n\t\n\t    if (anyMatch(allFrames1, allFrames2)) {\n\t        return true;\n\t    }\n\t\n\t    var opener1 = getOpener(top1);\n\t    var opener2 = getOpener(top2);\n\t\n\t    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n\t        return false;\n\t    }\n\t\n\t    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n\t        return false;\n\t    }\n\t}\n\t\n\tfunction matchDomain(pattern, origin) {\n\t\n\t    if (typeof pattern === 'string') {\n\t\n\t        if (typeof origin === 'string') {\n\t            return pattern === CONSTANTS.WILDCARD || origin === pattern;\n\t        }\n\t\n\t        if ((0, _util.isRegex)(origin)) {\n\t            return false;\n\t        }\n\t\n\t        if (Array.isArray(origin)) {\n\t            return false;\n\t        }\n\t    }\n\t\n\t    if ((0, _util.isRegex)(pattern)) {\n\t\n\t        if ((0, _util.isRegex)(origin)) {\n\t            return pattern.toString() === origin.toString();\n\t        }\n\t\n\t        if (Array.isArray(origin)) {\n\t            return false;\n\t        }\n\t\n\t        return Boolean(origin.match(pattern));\n\t    }\n\t\n\t    if (Array.isArray(pattern)) {\n\t\n\t        if (Array.isArray(origin)) {\n\t            return JSON.stringify(pattern) === JSON.stringify(origin);\n\t        }\n\t\n\t        if ((0, _util.isRegex)(origin)) {\n\t            return false;\n\t        }\n\t\n\t        return pattern.some(function (subpattern) {\n\t            return matchDomain(subpattern, origin);\n\t        });\n\t    }\n\t\n\t    return false;\n\t}\n\t\n\tfunction getDomainFromUrl(url) {\n\t\n\t    var domain = void 0;\n\t\n\t    if (url.match(/^(https?|mock|file):\\/\\//)) {\n\t        domain = url;\n\t    } else {\n\t        return getDomain();\n\t    }\n\t\n\t    domain = domain.split('/').slice(0, 3).join('/');\n\t\n\t    return domain;\n\t}\n\t\n\tfunction onCloseWindow(win, callback) {\n\t    var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n\t    var maxtime = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Infinity;\n\t\n\t\n\t    var timeout = void 0;\n\t\n\t    var check = function check() {\n\t\n\t        if (isWindowClosed(win)) {\n\t\n\t            if (timeout) {\n\t                clearTimeout(timeout);\n\t            }\n\t\n\t            return callback();\n\t        }\n\t\n\t        if (maxtime <= 0) {\n\t            clearTimeout(timeout);\n\t        } else {\n\t            maxtime -= delay;\n\t            timeout = setTimeout(check, delay);\n\t        }\n\t    };\n\t\n\t    check();\n\t\n\t    return {\n\t        cancel: function cancel() {\n\t            if (timeout) {\n\t                clearTimeout(timeout);\n\t            }\n\t        }\n\t    };\n\t}\n\t\n\tfunction isWindow(obj) {\n\t\n\t    try {\n\t        if (obj && obj.self === obj) {\n\t            return true;\n\t        }\n\t    } catch (err) {\n\t        // pass\n\t    }\n\t\n\t    return false;\n\t}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.isRegex = isRegex;\n\tfunction isRegex(item) {\n\t    return Object.prototype.toString.call(item) === '[object RegExp]';\n\t}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.hasNativeWeakMap = hasNativeWeakMap;\n\tfunction hasNativeWeakMap() {\n\t\n\t    if (!window.WeakMap) {\n\t        return false;\n\t    }\n\t\n\t    if (!window.Object.freeze) {\n\t        return false;\n\t    }\n\t\n\t    try {\n\t\n\t        var testWeakMap = new window.WeakMap();\n\t        var testKey = {};\n\t        var testValue = '__testvalue__';\n\t\n\t        window.Object.freeze(testKey);\n\t\n\t        testWeakMap.set(testKey, testValue);\n\t\n\t        if (testWeakMap.get(testKey) === testValue) {\n\t            return true;\n\t        }\n\t\n\t        return false;\n\t    } catch (err) {\n\t\n\t        return false;\n\t    }\n\t}\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// cross-domain-safe-weakmap.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 82762d60f67ecdfa7605","/* @flow */\n\nimport * as INTERFACE from './interface';\nexport * from './interface';\nexport default INTERFACE;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/* @flow */\n\nexport { CrossDomainSafeWeakMap as WeakMap } from './weakmap';\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface.js","/* @flow */\n\nimport { isWindow, isWindowClosed } from 'cross-domain-utils/src';\nimport { hasNativeWeakMap } from './native';\n\nlet defineProperty = Object.defineProperty;\nlet counter = Date.now() % 1e9;\n\nfunction noop(...args) {\n    // pass\n}\n\nexport class CrossDomainSafeWeakMap<K : Object, V : mixed> {\n\n    name : string\n    weakmap : WeakMap<K, V>\n    keys : Array<K>\n    values : Array<V>\n\n    constructor() {\n        counter += 1;\n        this.name = `__weakmap_${Math.random() * 1e9 >>> 0}__${counter}`; // eslint-disable-line\n\n        if (hasNativeWeakMap()) {\n            try {\n                this.weakmap = new window.WeakMap();\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this.keys  = [];\n        this.values = [];\n    }\n\n    _cleanupClosedWindows() {\n\n        let weakmap = this.weakmap;\n        let keys = this.keys;\n\n        for (let i = 0; i < keys.length; i++) {\n            let value = keys[i];\n\n            if (isWindowClosed(value)) {\n\n                if (weakmap) {\n                    try {\n                        weakmap.delete(value);\n                    } catch (err) {\n                        // pass\n                    }\n                }\n\n                keys.splice(i, 1);\n                this.values.splice(i, 1);\n\n                i -= 1;\n            }\n        }\n    }\n\n    isSafeToReadWrite(key : K) : boolean {\n\n        if (isWindow(key)) {\n            return false;\n        }\n\n        try {\n            noop(key && key.self);\n            noop(key && key[this.name]);\n        } catch (err) {\n            return false;\n        }\n\n        return true;\n    }\n\n    set(key : K, value : V) {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        let weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                weakmap.set(key, value);\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (!this.isSafeToReadWrite(key)) {\n\n            this._cleanupClosedWindows();\n\n            let keys = this.keys;\n            let values = this.values;\n            let index = keys.indexOf(key);\n\n            if (index === -1) {\n                keys.push(key);\n                values.push(value);\n            } else {\n                values[index] = value;\n            }\n\n        } else {\n\n            let name = this.name;\n            let entry = key[name];\n\n            if (entry && entry[0] === key) {\n                entry[1] = value;\n            } else {\n                defineProperty(key, name, {\n                    value: [ key, value ],\n                    writable: true\n                });\n            }\n        }\n    }\n\n    get(key : K) : V | void {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        let weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                if (weakmap.has(key)) {\n                    return weakmap.get(key);\n                }\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (!this.isSafeToReadWrite(key)) {\n\n            this._cleanupClosedWindows();\n\n            let keys = this.keys;\n            let index = keys.indexOf(key);\n\n            if (index === -1) {\n                return;\n            }\n\n            return this.values[index];\n\n        } else {\n\n            let entry = key[this.name];\n\n            if (entry && entry[0] === key) {\n                return entry[1];\n            }\n        }\n    }\n\n    delete(key : K) {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        let weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                weakmap.delete(key);\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (!this.isSafeToReadWrite(key)) {\n\n            this._cleanupClosedWindows();\n\n            let keys = this.keys;\n            let index = keys.indexOf(key);\n\n            if (index !== -1) {\n                keys.splice(index, 1);\n                this.values.splice(index, 1);\n            }\n\n        } else {\n\n            let entry = key[this.name];\n\n            if (entry && entry[0] === key) {\n                entry[0] = entry[1] = undefined;\n            }\n        }\n    }\n\n    has(key : K) {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        let weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                return weakmap.has(key);\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (!this.isSafeToReadWrite(key)) {\n\n            this._cleanupClosedWindows();\n\n            return this.keys.indexOf(key) !== -1;\n\n        } else {\n\n            let entry = key[this.name];\n\n            if (entry && entry[0] === key) {\n                return true;\n            }\n\n            return false;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/weakmap.js","// @flow\n\nimport { isRegex } from './util';\n\nconst CONSTANTS = {\n    MOCK_PROTOCOL: 'mock:',\n    FILE_PROTOCOL: 'file:',\n    WILDCARD: '*'\n};\n\nexport function getActualDomain(win : any) {\n\n    let location = win.location;\n\n    if (!location) {\n        throw new Error(`Can not read window location`);\n    }\n\n    let protocol = location.protocol;\n\n    if (!protocol) {\n        throw new Error(`Can not read window protocol`);\n    }\n\n    if (protocol === CONSTANTS.FILE_PROTOCOL) {\n        return 'file://';\n    }\n\n    let host = location.host;\n\n    if (!host) {\n        throw new Error(`Can not read window host`);\n    }\n\n    return `${protocol}//${host}`;\n}\n\nexport function getDomain(win : any) {\n\n    win = win || window;\n\n    let domain = getActualDomain(win);\n\n    if (domain && win.mockDomain && win.mockDomain.indexOf(CONSTANTS.MOCK_PROTOCOL) === 0) {\n        return win.mockDomain;\n    }\n\n    return domain;\n}\n\nexport function isBlankDomain(win : any) {\n    try {\n        if (!win.location.href) {\n            return true;\n        }\n\n        if (win.location.href === 'about:blank') {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isActuallySameDomain(win : any) {\n\n    try {\n        let desc = Object.getOwnPropertyDescriptor(win, 'location');\n\n        if (desc && desc.enumerable === false) {\n            return false;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isBlankDomain(win)) {\n            return true;\n        }\n\n        if (getActualDomain(win) === getActualDomain(window)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isSameDomain(win : any) {\n\n    if (!isActuallySameDomain(win)) {\n        return false;\n    }\n\n    try {\n\n        if (isBlankDomain(win)) {\n            return true;\n        }\n\n        if (getDomain(window) === getDomain(win)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function getParent(win : any) {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.parent && win.parent !== win) {\n            return win.parent;\n        }\n    } catch (err) {\n        return;\n    }\n}\n\nexport function getOpener(win : any) {\n\n    if (!win) {\n        return;\n    }\n\n    // Make sure we're not actually an iframe which has had window.open() called on us\n    if (getParent(win)) {\n        return;\n    }\n\n    try {\n        return win.opener;\n    } catch (err) {\n        return;\n    }\n}\n\n\n\nexport function getParents(win : any) {\n\n    let result = [];\n\n    try {\n\n        while (win.parent !== win) {\n            result.push(win.parent);\n            win = win.parent;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return result;\n}\n\nexport function isAncestorParent(parent : any, child : any) {\n\n    if (!parent || !child) {\n        return false;\n    }\n\n    let childParent = getParent(child);\n\n    if (childParent) {\n        return childParent === parent;\n    }\n\n    if (getParents(child).indexOf(parent) !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\nexport function getFrames(win : any) {\n\n    let result = [];\n\n    let frames;\n\n    try {\n        frames = win.frames;\n    } catch (err) {\n        frames = win;\n    }\n\n    let len;\n\n    try {\n        len = frames.length;\n    } catch (err) {\n        // pass\n    }\n\n    if (len === 0) {\n        return result;\n    }\n\n    if (len) {\n        for (let i = 0; i < len; i++) {\n\n            let frame;\n\n            try {\n                frame = frames[i];\n            } catch (err) {\n                continue;\n            }\n\n            result.push(frame);\n        }\n\n        return result;\n    }\n\n    for (let i = 0; i < 100; i++) {\n        let frame;\n\n        try {\n            frame = frames[i];\n        } catch (err) {\n            return result;\n        }\n\n        if (!frame) {\n            return result;\n        }\n\n        result.push(frame);\n    }\n\n    return result;\n}\n\n\nexport function getAllChildFrames(win : any) {\n\n    let result = [];\n\n    for (let frame of getFrames(win)) {\n        result.push(frame);\n\n        for (let childFrame of getAllChildFrames(frame)) {\n            result.push(childFrame);\n        }\n    }\n\n    return result;\n}\n\nexport function getTop(win : any) {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.top) {\n            return win.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    if (getParent(win) === win) {\n        return win;\n    }\n\n    try {\n        if (isAncestorParent(window, win) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isAncestorParent(win, window) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    for (let frame of getAllChildFrames(win)) {\n        try {\n            if (frame.top) {\n                return frame.top;\n            }\n        } catch (err) {\n            // pass\n        }\n\n        if (getParent(frame) === frame) {\n            return frame;\n        }\n    }\n}\n\nexport function getAllFramesInWindow(win : any) {\n    let top = getTop(win);\n    return getAllChildFrames(top).concat(top);\n}\n\nexport function isTop(win : any) : boolean {\n    return win === getTop(win);\n}\n\nexport function isFrameWindowClosed(frame : HTMLIFrameElement) : boolean {\n\n    if (!frame.contentWindow) {\n        return true;\n    }\n\n    if (!frame.parentNode) {\n        return true;\n    }\n\n    let doc = frame.ownerDocument;\n\n    if (doc && doc.body && !doc.body.contains(frame)) {\n        return true;\n    }\n\n    return false;\n}\n\nlet iframeWindows = [];\nlet iframeFrames = [];\n\nexport function isWindowClosed(win : any, allowMock : boolean = true) {\n\n    try {\n        if (win === window) {\n            return false;\n        }\n    } catch (err) {\n        return true;\n    }\n\n\n    try {\n        if (!win) {\n            return true;\n        }\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (win.closed) {\n            return true;\n        }\n\n    } catch (err) {\n\n        // I love you so much IE\n\n        if (err && err.message === 'Call was rejected by callee.\\r\\n') {\n            return false;\n        }\n\n        return true;\n    }\n\n\n    if (allowMock && isSameDomain(win)) {\n        try {\n            if (win.mockclosed) {\n                return true;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    // Mobile safari\n\n    try {\n        if (!win.parent || !win.top) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    // IE orphaned frame\n\n    try {\n        let index = iframeWindows.indexOf(win);\n\n        if (index !== -1) {\n            let frame = iframeFrames[index];\n\n            if (frame && isFrameWindowClosed(frame)) {\n                return true;\n            }\n        }\n    } catch (err) {\n        // pass\n    }\n\n\n    return false;\n}\n\nfunction cleanIframes() {\n\n    for (let i = 0; i < iframeFrames.length; i++) {\n        if (isFrameWindowClosed(iframeFrames[i])) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n\n    for (let i = 0; i < iframeWindows.length; i++) {\n        if (isWindowClosed(iframeWindows[i])) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n}\n\nexport function linkFrameWindow(frame : HTMLIFrameElement) {\n\n    cleanIframes();\n\n    if (frame && frame.contentWindow) {\n        try {\n            iframeWindows.push(frame.contentWindow);\n            iframeFrames.push(frame);\n        } catch (err) {\n            // pass\n        }\n    }\n}\n\nexport function getUserAgent(win : any) {\n    win = win || window;\n    return win.navigator.mockUserAgent || win.navigator.userAgent;\n}\n\n\nexport function getFrameByName(win : any, name : string) {\n\n    let winFrames = getFrames(win);\n\n    for (let childFrame of winFrames) {\n        try {\n            if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n                return childFrame;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    try {\n        if (winFrames.indexOf(win.frames[name]) !== -1) {\n            return win.frames[name];\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (winFrames.indexOf(win[name]) !== -1) {\n            return win[name];\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function findChildFrameByName(win : any, name : string) {\n\n    let frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        let namedFrame = findChildFrameByName(childFrame, name);\n\n        if (namedFrame) {\n            return namedFrame;\n        }\n    }\n}\n\nexport function findFrameByName(win : any, name : string) {\n\n    let frame;\n\n    frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    return findChildFrameByName(getTop(win), name);\n}\n\nexport function isParent(win : any, frame : any) {\n\n    let frameParent = getParent(frame);\n\n    if (frameParent) {\n        return frameParent === win;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        if (childFrame === frame) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isOpener(parent : any, child : any) {\n\n    return parent === getOpener(child);\n}\n\nexport function getAncestor(win : any) {\n    win = win || window;\n\n    let opener = getOpener(win);\n\n    if (opener) {\n        return opener;\n    }\n\n    let parent = getParent(win);\n\n    if (parent) {\n        return parent;\n    }\n}\n\nexport function getAncestors(win : any) {\n\n    let results = [];\n\n    let ancestor = win;\n\n    while (ancestor) {\n        ancestor = getAncestor(ancestor);\n        if (ancestor) {\n            results.push(ancestor);\n        }\n    }\n\n    return results;\n}\n\n\nexport function isAncestor(parent : any, child : any) {\n\n    let actualParent = getAncestor(child);\n\n    if (actualParent) {\n        if (actualParent === parent) {\n            return true;\n        }\n\n        return false;\n    }\n\n    if (child === parent) {\n        return false;\n    }\n\n    if (getTop(child) === child) {\n        return false;\n    }\n\n    for (let frame of getFrames(parent)) {\n        if (frame === child) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isPopup() {\n    return Boolean(getOpener(window));\n}\n\nexport function isIframe() {\n    return Boolean(getParent(window));\n}\n\nexport function isFullpage() {\n    return Boolean(!isIframe() && !isPopup());\n}\n\nfunction anyMatch(collection1, collection2) {\n\n    for (let item1 of collection1) {\n        for (let item2 of collection2) {\n            if (item1 === item2) {\n                return true;\n            }\n        }\n    }\n}\n\nexport function getDistanceFromTop(win : any = window) {\n    let distance = 0;\n\n    while (win) {\n        win = getParent(win);\n        if (win) {\n            distance += 1;\n        }\n    }\n\n    return distance;\n}\n\nexport function getNthParent(win : any, n : number = 1) {\n    for (let i = 0; i < n; i++) {\n        win = getParent(win);\n    }\n    return win;\n}\n\nexport function getNthParentFromTop(win : any, n : number = 1) {\n    return getNthParent(win, getDistanceFromTop(win) - n);\n}\n\nexport function isSameTopWindow(win1 : any, win2 : any) {\n\n    let top1 = getTop(win1);\n    let top2 = getTop(win2);\n\n    try {\n        if (top1 && top2) {\n            if (top1 === top2) {\n                return true;\n            }\n\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    let allFrames1 = getAllFramesInWindow(win1);\n    let allFrames2 = getAllFramesInWindow(win2);\n\n    if (anyMatch(allFrames1, allFrames2)) {\n        return true;\n    }\n\n    let opener1 = getOpener(top1);\n    let opener2 = getOpener(top2);\n\n    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n        return false;\n    }\n\n    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n        return false;\n    }\n}\n\nexport function matchDomain(pattern : any, origin : any) {\n\n    if (typeof pattern === 'string') {\n\n        if (typeof origin === 'string') {\n            return pattern === CONSTANTS.WILDCARD || origin === pattern;\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n    }\n\n    if (isRegex(pattern)) {\n\n        if (isRegex(origin)) {\n            return pattern.toString() === origin.toString();\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n\n        return Boolean(origin.match(pattern));\n    }\n\n    if (Array.isArray(pattern)) {\n\n        if (Array.isArray(origin)) {\n            return JSON.stringify(pattern) === JSON.stringify(origin);\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        return pattern.some(subpattern => matchDomain(subpattern, origin));\n    }\n\n    return false;\n}\n\nexport function getDomainFromUrl(url : string) {\n\n    let domain;\n\n    if (url.match(/^(https?|mock|file):\\/\\//)) {\n        domain = url;\n    } else {\n        return getDomain();\n    }\n\n    domain = domain.split('/').slice(0, 3).join('/');\n\n    return domain;\n}\n\nexport function onCloseWindow(win : any, callback : Function, delay : number = 1000, maxtime : number = Infinity) : { cancel : () => void } {\n\n    let timeout;\n\n    let check = () => {\n\n        if (isWindowClosed(win)) {\n\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            return callback();\n        }\n\n        if (maxtime <= 0) {\n            clearTimeout(timeout);\n        } else {\n            maxtime -= delay;\n            timeout = setTimeout(check, delay);\n        }\n    };\n\n    check();\n\n    return {\n        cancel() {\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n        }\n    };\n}\n\nexport function isWindow(obj : Object) {\n\n    try {\n        if (obj && obj.self === obj) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/cross-domain-utils/src/index.js","// @flow\n\nexport function isRegex(item : any) {\n    return Object.prototype.toString.call(item) === '[object RegExp]';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/cross-domain-utils/src/util.js","/* @flow */\n\nexport function hasNativeWeakMap() {\n\n    if (!window.WeakMap) {\n        return false;\n    }\n\n    if (!window.Object.freeze) {\n        return false;\n    }\n\n    try {\n\n        let testWeakMap = new window.WeakMap();\n        let testKey = {};\n        let testValue = '__testvalue__';\n\n        window.Object.freeze(testKey);\n\n        testWeakMap.set(testKey, testValue);\n\n        if (testWeakMap.get(testKey) === testValue) {\n            return true;\n        }\n\n        return false;\n\n    } catch (err) {\n\n        return false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/native.js"],"sourceRoot":""}